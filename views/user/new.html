{{ extend 'layout.html' }}
<section>
    <h2>Register</h2>
    <p>
        In order to pledge to a project, or start a project of your own, you'll need to create an account with us.
        Just fill in the following information and you're set!
        None of the information we keep about you will be sold to anyone (advertisers) or given away.
    </p>
    <p>
        Registering is a simple two steps. 
        First provide a unique username that will identify you, along with some basic information.
        Then provide your credit card details that will be used to pledge to bootables.
        And that's it! You're done!
    </p>
    <div class="form-progression">
        <ul class="progress-steps">
            {{ if stage == 0: }}
            <li>Basic Info</li>
            <li class="progress-inactive">Credit Card Info</li>
            {{ else: }}
            <li class="progress-inactive">Basic Info</li>
            <li>Credit Card Info</li>
            {{ pass }}
        </ul>
        <div class="progress-container"><div id="registration-progress" class="progress-bar" style="width:{{ =max(1, min((stage) * 50, 99)) }}%;"></div></div>
    </div>
    {{ if forms[stage].errors: }}
    <div class="alert alert-danger">
        The values in the form had errors. See below and correct the errors before continuing.
    </div>
    {{ pass }}
    
    
    {{ include 'user/register_' + str(stage+1) + '.html' }}
    
    <h3>Session Vars</h3>
    {{ =session }}
    <h3>Stage {{ =(stage+1) }} Form Errors:</h3>
    {{ =forms[stage].errors }}
    
</section>